<!DOCTYPE html>
<html>
	<head>
		<title>MyMICDS - Lunch</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">
	</head>
	<body>

		<form class="form-inline" action="/lunch/get">
			<input class="form-control" name="year" placeholder="Year">
			<input class="form-control" name="month" placeholder="Month">
			<input class="form-control" name="day" placeholder="Day">
			<button class="btn btn-info">Get Lunch</button>
		</form>

		<p class="prevLunch"></p>
		<br><br><br>
		<p class="lunch"></p>

		<script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

		<script>
            var formData = {};
			var $forms = $('form');

			var $prevLunch = $('.prevLunch');
			var $lunch = $('.lunch');

			var prevLunch = {};

			$forms.submit(function(event) {
				event.preventDefault();
				var url = $(this).prop('action');
				$.post(url, $(this).serialize(), function(data) {
                    formData = data;
					console.log(data);
					console.log(data.lunch);

					$prevLunch.text(JSON.stringify(prevLunch));
					$lunch.text(JSON.stringify(data.lunch));

					if(JSON.stringify(prevLunch) === JSON.stringify(data.lunch)) {
						console.log('same response');
					} else {
						console.log('different response');
					}

					prevLunch = data.lunch;
				});
			});
		</script>
	</body>
</html>
